/* Custom CSS for Blast Radius Terraform Diagrams */

/* Main container styling */
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #f8f9fa;
    margin: 0;
    padding: 20px;
}

/* Graph container */
#graph {
    background-color: white;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    padding: 20px;
    margin: 20px 0;
}

/* Resource nodes */
.node {
    cursor: pointer;
    transition: all 0.3s ease;
}

.node:hover {
    filter: brightness(1.1);
    transform: scale(1.05);
}

/* AWS resource styling by type */
.node[data-type*="aws_vpc"] {
    fill: #FF9900 !important; /* AWS Orange */
}

.node[data-type*="aws_subnet"] {
    fill: #3498DB !important; /* Blue */
}

.node[data-type*="aws_instance"] {
    fill: #E74C3C !important; /* Red */
}

.node[data-type*="aws_rds"] {
    fill: #2ECC71 !important; /* Green */
}

.node[data-type*="aws_lb"] {
    fill: #9B59B6 !important; /* Purple */
}

.node[data-type*="aws_security_group"] {
    fill: #F39C12 !important; /* Orange */
}

.node[data-type*="aws_kms"] {
    fill: #E67E22 !important; /* Darker Orange */
}

.node[data-type*="aws_cloudwatch"] {
    fill: #1ABC9C !important; /* Turquoise */
}

/* Module nodes */
.node[data-type="module"] {
    fill: #34495E !important; /* Dark Gray */
    stroke: #2C3E50;
    stroke-width: 2px;
}

/* Data source nodes */
.node[data-type^="data"] {
    fill: #BDC3C7 !important; /* Light Gray */
    stroke: #95A5A6;
    stroke-dasharray: 5,5;
}

/* Variable nodes */
.node[data-type="var"] {
    fill: #F1C40F !important; /* Yellow */
    stroke: #D4AC0D;
}

/* Output nodes */
.node[data-type="output"] {
    fill: #8E44AD !important; /* Purple */
    stroke: #7D3C98;
}

/* Edge styling */
.edge path {
    stroke: #34495E;
    stroke-width: 2px;
    fill: none;
    transition: stroke-width 0.3s ease;
}

.edge:hover path {
    stroke-width: 3px;
    stroke: #E74C3C;
}

/* Dependency arrows */
.edge polygon {
    fill: #34495E;
    transition: fill 0.3s ease;
}

.edge:hover polygon {
    fill: #E74C3C;
}

/* Cluster (module) styling */
.cluster rect {
    fill: #ECF0F1;
    stroke: #BDC3C7;
    stroke-width: 2px;
    rx: 5;
    ry: 5;
}

.cluster text {
    font-weight: bold;
    font-size: 14px;
    fill: #2C3E50;
}

/* Node labels */
text {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    font-size: 12px;
    fill: #2C3E50;
}

/* Title styling */
.graph-title {
    font-size: 24px;
    font-weight: bold;
    text-anchor: middle;
    fill: #2C3E50;
}

/* Legend styling */
.legend {
    position: fixed;
    top: 20px;
    right: 20px;
    background: white;
    border: 1px solid #BDC3C7;
    border-radius: 5px;
    padding: 15px;
    font-size: 12px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    z-index: 1000;
}

.legend-item {
    display: flex;
    align-items: center;
    margin: 5px 0;
}

.legend-color {
    width: 16px;
    height: 16px;
    border-radius: 3px;
    margin-right: 8px;
    border: 1px solid #ccc;
}

/* Environment-specific styling */
.env-dev {
    border-left: 5px solid #3498DB;
}

.env-staging {
    border-left: 5px solid #F39C12;
}

.env-prod {
    border-left: 5px solid #E74C3C;
}

/* Region-specific styling */
.region-us-west-1::before {
    content: "us-west-1";
    position: absolute;
    top: 10px;
    left: 10px;
    background: #3498DB;
    color: white;
    padding: 5px 10px;
    border-radius: 3px;
    font-size: 11px;
}

.region-us-west-2::before {
    content: "us-west-2";
    position: absolute;
    top: 10px;
    left: 10px;
    background: #2ECC71;
    color: white;
    padding: 5px 10px;
    border-radius: 3px;
    font-size: 11px;
}

/* Resource status indicators */
.status-create {
    filter: hue-rotate(120deg); /* Green tint */
}

.status-update {
    filter: hue-rotate(45deg); /* Yellow tint */
}

.status-destroy {
    filter: hue-rotate(0deg) saturate(1.5); /* Red tint */
}

.status-no-change {
    opacity: 0.7;
}

/* Responsive design */
@media (max-width: 768px) {
    body {
        padding: 10px;
    }
    
    .legend {
        position: relative;
        margin: 20px 0;
        width: 100%;
        box-sizing: border-box;
    }
    
    #graph {
        padding: 10px;
    }
}

/* Print styles */
@media print {
    body {
        background: white;
    }
    
    .legend {
        position: static;
        page-break-inside: avoid;
    }
    
    #graph {
        box-shadow: none;
        border: 1px solid #ccc;
    }
}
